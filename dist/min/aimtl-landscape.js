"use strict";(()=>{function g(){let o=document.querySelectorAll(".product"),e=0;o.forEach(t=>{let s=t.getBoundingClientRect().height;s>e&&(e=s)}),o.forEach(t=>{t.style.minHeight=`${e}px`})}function y(o){if(o==null)return{};let e=Object.keys(o).sort(),t={};return e.forEach(s=>{t[s]=o[s]}),t}function l(o){return new Promise((e,t)=>{let s=new XMLHttpRequest;s.onreadystatechange=()=>{s.readyState===XMLHttpRequest.DONE&&(s.status!==200&&t(),e(JSON.parse(s.responseText)))},s.open("GET",o,!0),s.send()})}function m(o){document.querySelector("#count-total").innerText=o.length.toString()}function p(o,e){e.forEach(t=>{t.categories.forEach(r=>{let[n,c]=r.split("_");t.technologyReadinessLevelClass=t.technologyReadinessLevel==null?"trl-unknown":`trl-${t.technologyReadinessLevel}`,t.mediatypeClass=t.mediatype.length>1?"media-type-mixed":`mediatype-${t.mediatype}`,c!=null?o[n].subcategories[c].products.push(t):o[n].products.push(t)})})}function d(o,e){if(e==null)return;let t=document.querySelector("#product-template");o.forEach(s=>{let r=t.content.cloneNode(!0);r.querySelector("li").classList.add(s.technologyReadinessLevelClass,s.mediatypeClass),r.querySelector("a").href=s.link,r.querySelector("img").src=`img/${s.logo}`,r.querySelector("img").title=s.description,r.querySelector(".product-name").innerText=s.name,s.aiTechnologiesUsed.forEach(n=>{let c=document.createElement("div");c.classList.add("ai-technology"),c.innerText=n,r.querySelector("a").appendChild(c)}),e.append(r)})}function h(o){for(let[e]of Object.entries(o)){let t=`
        <div class="category" id="${e}">
            <h2 class="category-header">
                ${o[e].description} <span class="counter-text"><span class="count-product">0</span> Produkte</span>
            </h2>
            <ul class="product-list" id="list-${e}"></ul>
        </div>`;document.querySelector("#row-products").innerHTML+=t,d(o[e].products,document.querySelector(`#${e} ul`));let s=o[e].subcategories,r=y(s);for(let[n,c]of Object.entries(r)){let a=document.createElement("div");a.classList.add("subcategory","card-subtitle","mb-2","text-muted"),a.id=n,document.querySelector(`#${e}`)?.appendChild(a);let i=document.createElement("h3");i.classList.add("subcategory-header"),i.innerText=c.description,a.appendChild(i);let u=document.createElement("ul");u.classList.add("product-list"),u.id=n,document.querySelector(`#${n}`)?.appendChild(u),d(o[e].subcategories[n].products,document.querySelector(`#${n} .product-list`))}document.querySelector(`#${e} .count-product`).innerText=document.querySelectorAll(`#${e} .product`).length.toString()}}console.clear();Promise.all([l("data/categories.json"),l("data/products.json")]).then(o=>{let[e,t]=o;e==null||t==null||(m(t),p(e,t),h(e),g())});})();
