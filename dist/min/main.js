(()=>{function y(){let o=document.querySelectorAll(".product"),e=0;o.forEach(t=>{let r=t.getBoundingClientRect().height;r>e&&(e=r)}),o.forEach(t=>{t.style.minHeight=`${e}px`})}function m(o){if(o==null)return{};let e=Object.keys(o).sort(),t={};return e.forEach(r=>{t[r]=o[r]}),t}function u(o){return new Promise((e,t)=>{var r=new XMLHttpRequest;r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&(r.status!==200&&t(),e(JSON.parse(r.responseText)))},r.open("GET",o,!0),r.send()})}function p(o){document.querySelector("#count-total").innerText=o.length.toString()}function h(o,e){e.forEach(t=>{t.categories.forEach(n=>{let[c,s]=n.split("_");t.technologyReadinessLevelClass=t.technologyReadinessLevel==null?"trl-unknown":`trl-${t.technologyReadinessLevel}`,t.mediatypeClass=t.mediatype.length>1?"media-type-mixed":`mediatype-${t.mediatype}`,s!=null?o[c].subcategories[s].products.push(t):o[c].products.push(t)})})}function d(o,e){let t=document.querySelector("#product-template");o.forEach(r=>{let n=t.content.cloneNode(!0);n.querySelector("li").classList.add(r.technologyReadinessLevelClass,r.mediatypeClass),n.querySelector("a").href=r.link,n.querySelector("img").src=`img/${r.logo}`,n.querySelector("img").title=r.description,n.querySelector(".product-name").innerText=r.name,r.aiTechnologiesUsed.forEach(c=>{let s=document.createElement("div");s.classList.add("ai-technology"),s.innerText=c,n.querySelector("a").appendChild(s)}),e.append(n)})}function f(o){for(let[e,t]of Object.entries(o)){let r=`
        <div class="category" id="${e}">
            <h2 class="category-header">
                ${o[e].description} <span class="counter-text"><span class="count-product">0</span> Produkte</span>
            </h2>
            <ul class="product-list" id="list-${e}"></ul>
        </div>`;document.querySelector("#row-products").innerHTML+=r,d(o[e].products,document.querySelector(`#${e} ul`));let n=o[e].subcategories,c=m(n);for(let[s,g]of Object.entries(c)){let a=document.createElement("div");a.classList.add("subcategory","card-subtitle","mb-2","text-muted"),a.id=s,document.querySelector(`#${e}`)?.appendChild(a);let i=document.createElement("h3");i.classList.add("subcategory-header"),i.innerText=g.description,a.appendChild(i);let l=document.createElement("ul");l.classList.add("product-list"),l.id=s,document.querySelector(`#${s}`)?.appendChild(l),d(o[e].subcategories[s].products,document.querySelector(`#${s} .product-list`))}document.querySelector(`#${e} .count-product`).innerText=document.querySelectorAll(`#${e} .product`).length.toString()}}console.clear();Promise.all([u("data/categories.json"),u("data/products.json")]).then(o=>{let[e,t]=o;e==null||t==null||(p(t),h(e,t),f(e),y())});})();
